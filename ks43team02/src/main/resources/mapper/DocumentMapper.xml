<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks43team02.mapper.DocumentMapper">
	<resultMap type="ApprovalRequest"					id="ApprovalRequestResultMap">
  		<id column="approval_request_code"						property="approvalRequestCode"/>
  		<result column="cp_representative_code" 				property="cpRepresentativeCode"/>
  		<result column="super_admin_id" 						property="superAdminId"/>
		<result column="emply_id"								property="emplyId"/>
  		<result column="document_cate_S_code"					property="documentCateSCode"/>
  		<result column="approval_progress_step" 				property="approvalProgressStep"/>
  		<result column="total_approval_step" 					property="totalApprovalStep"/>
  		<result column="approval_progress_status" 				property="approvalProgressStatus"/>
  		<result column="title" 									property="title"/>
  		<result column="comment" 								property="comment"/>
  		<result column="application_form_group_code" 			property="applicationFormGroupCode"/>
  		<result column="application_form_group_name_code" 		property="applicationFormGroupNameCode"/>
  		<result column="reg_date" 								property="regDate"/>
  			<collection property="documentCateS"  		ofType="DocumentCateS">
				<id column="document_cate_S_code"				property="documentCateSCode"/>
			</collection>
	</resultMap>
	<select id="getDocApprovalRequest" parameterType="ApprovalRequest" resultMap="ApprovalRequestResultMap">
		/* 요청 문서 리스트 */
		SELECT
			ar.reg_date
			,dc.cate_name_S
			,dc.cate_name_L
			,ar.approval_progress_status
		FROM
			tb_approval_request AS ar
		INNER JOIN
			tb_document_cate_S AS dc
		ON
			ar.document_cate_S_code = dc.document_cate_S_code
	</select>

</mapper>