<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks43team02.mapper.WorkSettingMapper">
	<resultMap type="WorkSettingList" id="WorkSettingListMap">
		<result column="standard_worksystem_cp_code" property="standardWorksystemCpCode"/>
		<result column="cp_representative_code" 	property="cpRepresentativeCode"/>
		<result column="super_admin_id" 			property="superAdminId"/>
		<result column="standard_work_code" 		property="standardWorkCode"/>
		<result column="work_start_time" 			property="workStartTime"/>
		<result column="work_end_time" 				property="workEndTime"/>
		<result column="break_time" 				property="breakTime"/>
		<result column="cp_name" 					property="cpName"/>
		<result column="reg_date" 					property="regDate"/>
		<result column="day_check" 					property="dayCheck"/>
	</resultMap>
	<select id="maxList" parameterType="String">
		/*근무제 기본키 자동증가*/
		SELECT
			Max(cast(SUBSTRING_INDEX(c.standard_worksystem_cp_code,'_',-1) AS UNSIGNED)) +1
		FROM
			tb_standard_worksystem_cp AS c;
	</select>
	<select id="getWorkSettingList" parameterType="String" resultMap="WorkSettingListMap">
		/*근무제 세팅 완료 리스트 조회*/
		SELECT
			sw.standard_worksystem_cp_code
			,sw.cp_representative_code
			,sw.super_admin_id
			,sw.standard_work_code
			,sw.work_start_time
			,sw.work_end_time
			,sw.break_time
			,sw.cp_name
			,sw.reg_date
			,sw.day_check
		FROM
		tb_standard_worksystem_cp AS sw;
	</select>
	<insert id="addWorkSettingList" parameterType="String">
		/*근무제 세팅 추가 리스트 조회*/
		insert INTO 
		tb_standard_worksystem_cp(
			standard_worksystem_cp_code
			, cp_representative_code 
			, super_admin_id
			, standard_work_code
			, work_start_time
			, work_end_time
			, break_time
			, cp_name
			, reg_date
			, day_check
			)
		VALUES (
			 'standard_work_cp_code_13'
			, 'cp_representative_code_02'
			, 'ksmart43id@test.or.kr'
			, 'standard_work_code_04'
			, NOW()
			, NOW()
			, NOW()
			, '한국스마트정보교육원'
			, NOW()
			, 'mon'
		);
	</insert>
</mapper>