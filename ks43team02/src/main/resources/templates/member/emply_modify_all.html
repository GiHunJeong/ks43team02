<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default.html}">
<th:block layout:fragment="customHeadScript">
	<head>
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <meta name="description" content="">
	    <meta name="author" content="">
	    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/assets/images/favicon.png}">
	    <title>개인 정보 수정</title>
	    <link th:href="@{/dist/css/style.min.css}" rel="stylesheet">
	    <script th:src="@{/assets/libs/jquery/dist/jquery.min.js}"></script>
	</head>
</th:block>

	<!-- 사용자 정의 contents -->
	<th:block layout:fragment="customContents">
		<!-- ============================================================== -->
	    <!-- Start Page Content -->
	    <!-- ============================================================== -->
	    <form id="adminModifyForm" th:action="@{/member/emply_modify_all}" method="post">
	    <div class="card-body">
	        <h4 class="card-title">[[${emply.emplyName}]]사원 정보 수정</h4>
	        <div class="table-responsive">
	            <table class="table">
	                <thead class="bg-primary text-white">
	                    <tr>
	                        <th>관리자</th>
	                    </tr>
	                </thead>
	                <tbody>
	                	<tr>
	                		<td>
	                			<div class="form-group">
									<div class="row">
										<label class="col-lg-1 mt-2">프로필사진</label>
										<div class="col-lg-11">
											<div class="row">
												<div class="col-md-3">
												    <button type="button" class="btn waves-effect waves-light btn-danger">변경</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</td>
	                    </tr>
	                	<tr>
	                		<td>
	                			<div class="form-group">
									<div class="row">
										<label class="col-lg-1 mt-2">이름</label>
										<div class="col-lg-11">
											<div class="row">
												<div class="col-md-3">
												    <input name="emplyName" th:value="${emply.emplyName}" type="text" class="form-control" placeholder="이름" disabled="disabled">
												</div>
												<div class="col-md-3">
												    <button id="emplyNameChangeBtn" type="button" class="btn waves-effect waves-light btn-danger">이름변경</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</td>
	                    </tr>
	                	<tr>
	                		<td>
	                			<div class="form-group">
									<div class="row">
										<label class="col-lg-1 mt-2">아이디</label>
										<div class="col-lg-11">
											<div class="row">
												<div class="col-md-3">
												    <input name="emplyId" th:value="${emply.emplyId}" type="text" class="form-control" placeholder="아이디" disabled="disabled">
												</div>
											</div>
										</div>
									</div>
								</div>
							</td>
	                    </tr>
	                	<tr>
	                		<td>
	                			<div class="form-group">
									<div class="row">
										<label class="col-lg-1 mt-2">비밀번호</label>
										<div class="col-lg-11">
											<div class="row">
												<div class="col-md-3">
												    <input name="emplyPw" th:value="${emply.emplyPw}" type="password" class="form-control" placeholder="비밀번호">
												</div>
											</div>
										</div>
									</div>
								</div>
							</td>
	                    </tr>
	                	<tr>
	                		<td>
	                			<div class="form-group">
									<div class="row">
										<label class="col-lg-1 mt-2">생년월일</label>
										<div class="col-lg-11">
											<div class="row">
												<div class="col-md-3">
												    <input name="emplyBirth" th:value="${emply.emplyBirth}" type="date" class="form-control">
												</div>
											</div>
										</div>
									</div>
								</div>
							</td>
	                    </tr>
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">핸드폰번호</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-3">
	                                                <input name="emplyNumber" th:value="${emply.emplyNumber}" type="text" class="form-control" placeholder="핸드폰번호">
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    <!-- 모바일버전 -->
	                    <!-- <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">우편번호</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-12" style="display: flex;flex-wrap: nowrap;">
	                                                <input id="addr1" name="emplyHomeAddressZip" value="54898" type="text" class="col-lg-6 col-sm-3 form-control" placeholder="우편번호" style="display: inline-grid;">
	                                                <button id="addrSearchBtn" type="button" class="col-lg-4 col-sm-2 btn waves-effect waves-light btn-primary" style="max-width: 95px;">주소검색</button>
	                                            </div>
	                                            <div class="col-md-2">
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr> -->
	                    <!-- 모바일버전 -->
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">우편번호</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-2">
	                                                <input id="addr1" name="emplyHomeAddressZip" th:value="${emply.emplyHomeAddressZip}" type="text" class="form-control" placeholder="우편번호">
	                                            </div>
	                                            <div class="col-md-2">
	                                                <button id="addrSearchBtn" type="button" class="btn waves-effect waves-light btn-primary">주소검색</button>
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">집주소</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-5">
	                                                <input id="addr2" name="emplyHomeAddress" th:value="${emply.emplyHomeAddress}" type="text" class="form-control" placeholder="집주소">
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">상세주소</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-3">
	                                                <input id="addr3" name="emplyHomeAddressDetail" th:value="${emply.emplyHomeAddressDetail}" type="text" class="form-control" placeholder="상세주소">
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    <!-- 수정 -->
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">직책</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-3">
	                                                <select class="custom-select mr-sm-2" id="positionLevel" name="positionLevelCode">
										                <option> :: 직책 :: </option>
											            <th:block th:if="${not #lists.isEmpty(positionLevelList)}" th:each="l : ${positionLevelList}">
											                <option th:value="${l.positionLevelCode}">[[${l.positionName}]]</option>
											            </th:block>
													</select>
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">직급</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-3">
	                                                <select class="custom-select mr-sm-2" id="rankLevel" name="rankLevelCode">
										                <option> :: 직급 :: </option>
											            <th:block th:if="${not #lists.isEmpty(rankLevelList)}" th:each="l : ${rankLevelList}">
											                <option th:value="${l.rankLevelCode}">[[${l.rankName}]]</option>
											            </th:block>
													</select>
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    <!-- 수정 -->
	                    <!-- 수정 -->
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2">부서수정</label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-3">
	                                                <!-- /////////////////조직도리스트//////////////// -->  
													<div class="col-lg-12">
												        <!-- 조직도 대분류 -->
												        <div class="form-group mb-4">            
												            <label class="mr-sm-2" for="organiL">조직도대분류</label>
												            <select class="custom-select mr-sm-2" id="organiL" name="organiL">
												                <option>Choose...</option>
													            <th:block th:if="${not #lists.isEmpty(organiLList)}" th:each="l : ${organiLList}">
													                <option th:value="${l.organizationNameL}">[[${l.organizationNameL}]]</option>
													            </th:block>
													            <th:block th:unless="${not #lists.isEmpty(organiLList)}">
																	<option value="">등록된 조직도가 없습니다.</option>
																</th:block>
												            </select>
												        </div>
												        <!-- 조직도 대분류 --> 
												        
												        <!-- 조직도 중분류 -->
												        <div class="form-group mb-4" id="organiMSelect" style="display:block;">            
												            <label class="mr-sm-2" for="organiM">조직도중분류</label>
												            <select class="custom-select mr-sm-2" id="organiM" name="organiM">
												            </select>
												        </div>
												        <!-- 조직도 중분류 --> 
												        
												        <!-- 조직도 소분류 -->
												        <div class="form-group mb-4" id="organiSSelect" style="display:block;">            
												            <label class="mr-sm-2" for="organiS">조직도소분류</label>
												            <select class="custom-select mr-sm-2" id="organiS" name="organizationCodeS">
												            </select>
												        </div>
												        <!-- 조직도 소분류 --> 
													</div>
							                        <!-- /////////////////조직도리스트끝//////////////// -->
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    
	                    
	                    <!-- 수정 -->
	                    <tr>
	                        <td>
	                        	<div class="form-group">
	                                <div class="row">
	                                    <label class="col-lg-1 mt-2"></label>
	                                    <div class="col-lg-11">
	                                        <div class="row">
	                                            <div class="col-md-12" style="text-align: right;">
	                                                <button id="modifyBtn" type="button" class="btn waves-effect waves-light btn-success">수정</button>
	                                                <a id="modifyCancelBtn" class="btn waves-effect waves-light btn-light" th:href="@{/member/modifyCancel}">취소</a>
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </td>
	                    </tr>
	                    <!-- 테이블 마지막 색만 넣은곳 -->
	                    <tr>
	                        <td class="bg-primary text-white">관리자</td>
	                    </tr>
	                    <!-- 테이블 마지막 색만 넣은곳 -->
	                </tbody>
	            </table>
	        </div>
	    </div>
		</form>
	    <!-- ============================================================== -->
	    <!-- Start Page Content -->
	    <!-- ============================================================== -->
	</th:block>
	<th:block layout:fragment="customScript">
	    <script th:src="@{/dist/js/emply_modify_all.js}"></script>
	    <script th:src="@{/assets/libs/popper.js/dist/umd/popper.min.js}"></script>
	    <script th:src="@{/assets/libs/bootstrap/dist/js/bootstrap.min.js}"></script>
	    <script th:src="@{/dist/js/app-style-switcher.js}"></script>
	    <script th:src="@{/dist/js/feather.min.js}"></script>
	    <script th:src="@{/assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js}"></script>
	    <script th:src="@{/assets/extra-libs/sparkline/sparkline.js}"></script>
	    <script th:src="@{/dist/js/sidebarmenu.js}"></script>
	    <script th:src="@{/dist/js/custom.min.js}"></script>
	    
		<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
	    <script th:inline="javascript">
	    	/*<![CDATA[*/
	    	let organiLNameById = [[${emply.organizationSList.organizationNameL}]];
	    	let organiMNameById = [[${emply.organizationSList.organizationNameM}]];
	    	let organiSNameById = [[${emply.organizationSList.organizationCodeS}]];
	    	let rankCodeById = [[${emply.rankLevelCode}]];
	    	let positionCodeById = [[${emply.positionLevelCode}]];
	    	console.log(organiLNameById);
	    	console.log(organiMNameById);
	    	console.log(organiSNameById);
	    	console.log(rankCodeById);
	    	console.log(positionCodeById);
	    	/*]]>*/
	        $(function(){
	        	$(document).on('click', '#addrSearchBtn', function(){	
	        		console.log('눌렀다.');
			        new daum.Postcode({
			            oncomplete: function(data) {
			            	var addr = data.address // 최종 주소 변수
			            		,zoneCode = data.zonecode;
			                $('#addr1').val(zoneCode);
			                $('#addr2').val(addr);
			                $('#addr3').val('');
			                $('#addr3').focus();
			            }
			        }).open();
	        	});	        	
	    	
	    	/* 자신의 랭크 */
	    	/* 자신의 랭크 */
	    	});
	    </script>
	</th:block>
</html>