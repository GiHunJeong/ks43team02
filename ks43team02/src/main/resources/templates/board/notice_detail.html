<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">
	
</th:block>
	<th:block layout:fragment="customContents">
		<div class="panel-hedding">
			<div class="row justify-content-center mb-4" style="background: #FFF">
				<div class="col-12 col-la-10 col-xl-8">
					<div class="row">
						<div class="col-12">
							<div class="card" style="-webkit-box-shadow: none;">
								<div class="card-body">
									<div class="card-title">
										<form id="addBoard" th:action="@{/board/notice_detail}" method="post" enctype="multipart/form-data">
											<table class="table table-bordered">
												<thead>
													<tr>
														<th scope="col" style="width: 15%;">#</th>
														<th scope="col">공지사항</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<th scope="row">공지 정보</th>
														<td>
															<div class="form-group row" style="display: none;">
																<div class="col-md-2 col-sm-2">
																	<label class="control-label" for="noticeNum">공지 번호</label>
																</div>
																<div class="col-md-8 col-sm-8 ">
																	<input type="text" class="form-control"
																	 name="noticeNum">
																</div>
															</div>
															<div class="form-group row">
																<div class="col-md-2 col-sm-2">
																	<label class="control-label" for="noticeTitle">공지 제목</label>
																</div>
																<div class="col-md-10 col-sm-8 ">
																	<input type="text" class="form-control" readonly="readonly"
																	 name="noticeTitle" th:value="${noticeDetail.noticeTitle}">
																</div>
															</div>
															<div class="form-group row">
																<div class="col-md-2 col-sm-2">
																	<label class="control-label" for="noticeDate">공지 날짜</label>
																</div>
																<div class="col-md-5 col-sm-3 ">
																	<input type="text" class="form-control" readonly="readonly"
																	 name="noticeDate" th:value="${noticeDetail.regDate}">
																</div>
															</div>
															<div class="form-group row">
																<div class="col-md-2 col-sm-2">
																	<label class="control-label" for="noticeDate">작성자</label>
																</div>
																<div class="col-md-4 col-sm-3 ">
																	<input type="text" class="form-control" readonly="readonly"
																	 name="noticeRegUserName" th:value="${noticeDetail.regUserName}">
																</div>
															</div>
															<div class="form-group row" style="display: none;">
																<div class="col-md-2 col-sm-2 ">
																	<label class="control-label" for="" >조회수</label>
																</div>
																<div class="col-md-3 col-sm-3 ">
																	<input type="number" class="form-control" readonly="readonly"
																	 name="noticeView" >
																</div>
															</div>
															<div class="form-group row">
																<div class="col-md-2 col-sm-2">
																	<label class="control-label" for="noticeContent">공지 내용</label>
																</div>
																<div class="col-md-10 col-sm-8 ">
																	<textarea class="form-control" rows="15" name="noticeContent" readonly="readonly">
																	[[${noticeDetail.noticeContents}]]</textarea>
																</div>
															</div>
														</td>
													</tr>
													<tr>
													<th scope="row" th:rowspan="${#lists.size(noticeDetail.file)}">첨부파일</th>
														<td>
															<th:block  th:if="${not #lists.isEmpty(noticeDetail.file)}" th:each="t : ${noticeDetail.file}">	
																<div class="form-group row">
																	<div class="col-md-2 col-sm-2">
																		<label class="control-label" for="noticeFile">파일</label>
																	</div>
																	<div class="col-md-6 col-sm-6 ">
																		<a th:text="${t.attachFileOriginalName}" th:href="@{/board/file/download(attachFileCode=${t.attachFileCode})}"></a>
																	</div>
																</div>
															</th:block>
														</td>
													</tr>
												</tbody>
											</table>
										</form>
											<div class="form-group">
												<div class="col-md-8 col-sm-8  offset-md-4">
													 <button class="btn btn-info" onclick="#">수정하기</button>
													 <button class="btn btn-primary" onclick="javascript:history.back(-1)">뒤로가기</button>
													 <button onclick="remove()" class="btn btn-danger" id="swal-delete-board">삭제하기</button>
												</div>
											</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</th:block>
	<th:block layout:fragment="customScript">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
		<link rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css" />
		
		
	<script type="text/javascript">
		var confirm = function(msg, title, resvNum) {
			swal({
				title : title,
				text : msg,
				type : "warning",
				showCancelButton : true,
				confirmButtonClass : "btn-danger",
				confirmButtonText : "예",
				cancelButtonText : "아니오",
				closeOnConfirm : false,
				closeOnCancel : true
			}, function(isConfirm) {
				if (isConfirm) {
					swal('삭제완료', '공지사항이 삭제되었습니다.', "success")
					location.href = '/board/notice_remove?cpNoticeCode=' + cpNoticeCode;
				}
	
			});
		}
	
		function remove() {
			confirm('삭제 클릭시 해당 정보는 복구 할 수 없습니다.', '삭제하시겠습니까?');
		}
	</script>
	
	</th:block>
</html>
